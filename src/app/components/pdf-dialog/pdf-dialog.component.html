<div class="overlay"></div>

<div class="outer">
  <div class="title">È†êË¶ΩÁï´Èù¢</div>
  <div class="background">
    <!-- È¶ñÈ†Å -->
    <div class="page" style="height: 250mm;">
      <div class="intro">
        <div class="pdfJourneyName"> {{this.journey.journeyName}} </div>
        <div class="pdtDate">{{this.journey.startDate}} Âà∞ {{this.journey.endDate}}</div>
      </div>
    </div>

    <div class="page" style="min-height: 250mm;">
      <div class="pdfTitle">
        <div>Ë°åÁ®ãÁ∞°‰ªã</div>
        <i class="fa-solid fa-map-location-dot"></i>
      </div>
      @for (item of dayArray; track $index) {
        <div class="big">
          <span class="date">üö©DAY {{ $index + 1 }}</span>
          <div class="content">
            @if(item.spotList){
              @for(spot of item.spotList;track spot){
                @if($index!=0){
                  <span style="font-size: 20px;"> ‚ûî </span>
                }
                <span style="font-size: 18px;">{{ spot.spotName }}</span>
              }
            }
          </div>
        </div>
      }
    </div>

    <!-- ‰ΩèÂÆøË≥áË®ä -->
     @if(hotelData && hotelData.length!=0){
      <div class="page" style="min-height: 250mm;">
        <!-- Ê®ôÈ°å -->
        <div class="pdfTitle">
          <div>‰ΩèÂÆøË≥áË®ä</div>
          <i class="fa-solid fa-suitcase-rolling"></i>
        </div>

        <div class="allhotelData">
        @for (item of hotelData; track $index) {
          <div class="hotelBox">

            <!-- È£ØÂ∫óË≥áË®ä -->
            @if (item[0]) {
              <div class="hotelNumber">
                {{padIndex($index+1)}}
              </div>

              <div class="hotelInfo">
                 <!-- Êó•Êúü -->
                <div class="hotelDate">
                  @if(dateFormat.stringAddDay(item[0].checkinDate, 1) != item[0].checkoutDate){
                    {{dateFormat.trimYear(item[0].checkinDate)}} Âà∞ {{dateFormat.trimYear( dateFormat.stringAddDay(item[0].checkoutDate, -1) )}}
                  }@else {
                    {{dateFormat.trimYear(item[0].checkinDate)}}
                  }
                </div>

                <div class="hotelName">{{item[0].hotelName}}</div>

                <!-- ÊàøÂûã„ÄÅÊàøÊï∏ -->
                <div class="roomInfo">
                  @for (room of item; track $index) {
                    <div>{{room.roomType}} {{room.number}}Èñì</div>
                  }
                </div>
              </div>
            }

          </div>
        }
        </div>
      </div>
     }


    <!-- Ë°åÁ®ãÂÖßÈ†Å -->
    @for (item of dayArray; track $index) {
      <div class="page">
        @if(dayArray && dayArray.length!=1){
          <div class="pdfTitle"> Á¨¨{{item.day}}Â§© <span style="font-size: 80%;">{{item.date}}</span> </div>
        }

          @if(item.spotList){
            <!-- <div class="spotIntro">
              @for(spot of item.spotList;track spot){
                @if($index!=0){
                  <span style="font-size: 20px;"> ‚ûî </span>
                }
                <span style="font-size: 18px;">{{ spot.spotName }}</span>
              }
            </div> -->

            <div class="pdfSpotList">
              @for(spot of item.spotList;track $index){
                <div class="pdfSpot">

                  <div class="idLine">
                    <div class="spotId">{{$index+1}}</div>
                    <div class="line"></div>
                  </div>

                  <div class="spotDetail">
                    <div class="pdfSpotTitle">{{spot.spotName}}</div>
                    <div>{{trimSecond(spot.arrivalTime)}} Âà∞ {{trimSecond(spot.departureTime)}}</div>
                    <div style="height: 40mm;">{{spot.note}}</div>
                  </div>

                  <!-- ÂúñÁâá -->
                  <!-- @if(spot.spotImage){
                    <img [src]="this.imgFormat.generateImageWithPrefix(spot.spotImage)" class="pdfImg">
                  } -->
                </div>

                <!-- Ë∑ØÂæë -->
                @for(route of this.dayRoute[item.day-1].routeList;track $index){
                  @if(spot.placeId== route.startPlaceId){
                  <div class="transportation">
                    @if(route.transportation=="DRIVING"){
                      <i class="material-icons">directions_car</i>
                    } @if(route.transportation=="WALKING"){
                      <i class="material-icons">directions_walk</i>
                    } @if(route.transportation=="TRANSIT"){
                     <i class="material-icons">directions_bus</i>
                    } @if(route.transportation=="BICYCLING"){
                     <i class="material-icons">directions_bike</i>
                    }
                    <div>{{convertTime(route.routeTime)}}ÂàÜ</div>
                  </div>
                  }
                }
              }
            </div>
          }
      </div>
    }
  </div>

  <!-- ÊåâÈàï -->
  <div class="buttongroup">
    <button class="cancelbut" (click)="onCancel()">ÂèñÊ∂à</button>
    <button class="confirmbut" (click)="onConfirm()">ÂåØÂá∫</button>
  </div>
</div>

<!-- PDF -->
<div id="pdf"  class="pdf">
  <!-- È¶ñÈ†Å -->
  <div class="page" style="height: 250mm;">
    <div class="intro">
      <div class="pdfJourneyName"> {{this.journey.journeyName}} </div>
      <div class="pdtDate">{{this.journey.startDate}} Âà∞ {{this.journey.endDate}}</div>
    </div>
  </div>

  <div class="page" style="height: 250mm;">
    <div class="pdfTitle">
      <div>Ë°åÁ®ãÁ∞°‰ªã</div>
      <i class="fa-solid fa-map-location-dot"></i>
    </div>

    @for (item of dayArray; track $index) {
      <div class="big">
        <span class="date">üö©DAY {{ $index + 1 }}</span>
        <div class="content">
          @if(item.spotList){
            @for(spot of item.spotList;track spot){
              @if($index!=0){
                <span style="font-size: 20px;"> ‚ûî </span>
              }
              <span style="font-size: 18px;">{{ spot.spotName }}</span>
            }
          }
        </div>
      </div>
    }
  </div>

  <!-- ‰ΩèÂÆøË≥áË®ä -->
  @if(hotelData && hotelData.length!=0){
    <div class="page" style="min-height: 250mm;">
      <!-- Ê®ôÈ°å -->
      <div class="pdfTitle">
        <div>‰ΩèÂÆøË≥áË®ä</div>
        <i class="fa-solid fa-suitcase-rolling"></i>
      </div>

      <div class="allhotelData">
      @for (item of hotelData; track $index) {
        <div class="hotelBox">

          <!-- È£ØÂ∫óË≥áË®ä -->
          @if (item[0]) {
            <div class="hotelNumber">
              {{padIndex($index+1)}}
            </div>

            <div class="hotelInfo">
              <!-- Êó•Êúü -->
              <div class="hotelDate">
                @if(dateFormat.stringAddDay(item[0].checkinDate, 1) != item[0].checkoutDate){
                  {{dateFormat.trimYear(item[0].checkinDate)}} Âà∞ {{dateFormat.trimYear( dateFormat.stringAddDay(item[0].checkoutDate, -1) )}}
                }@else {
                  {{dateFormat.trimYear(item[0].checkinDate)}}
                }
              </div>

              <div class="hotelName">{{item[0].hotelName}}</div>

              <!-- ÊàøÂûã„ÄÅÊàøÊï∏ -->
              <div class="roomInfo">
                @for (room of item; track $index) {
                  <div>{{room.roomType}} {{room.number}}Èñì</div>
                }
              </div>
            </div>
          }

        </div>
      }
    </div>
  </div>
  }


  <!-- Ë°åÁ®ãÂÖßÈ†Å -->
  @for (item of dayArray; track $index) {
    <div class="page">
      @if(dayArray && dayArray.length!=1){
        <div class="pdfTitle"> Á¨¨{{item.day}}Â§© <span style="font-size: 80%;">{{item.date}}</span> </div>
      }

        @if(item.spotList){
          <!-- <div class="spotIntro">
            @for(spot of item.spotList;track spot){
              @if($index!=0){
                <span style="font-size: 20px;"> ‚ûî </span>
              }
              <span style="font-size: 18px;">{{ spot.spotName }}</span>
            }
          </div> -->

          <div class="pdfSpotList">
            @for(spot of item.spotList;track $index){
              <div class="pdfSpot">

                <div class="idLine">
                  <div class="spotId">{{$index+1}}</div>
                  <div class="line"></div>
                </div>

                <div class="spotDetail">
                  <div class="pdfSpotTitle">{{spot.spotName}}</div>
                  @if(spot.arrivalTime && spot.departureTime){
                    <div>{{trimSecond(spot.arrivalTime)}} Âà∞ {{trimSecond(spot.departureTime)}}</div>
                  }
                  <div style="height: 40mm;">{{spot.note}}</div>
                </div>

                <!-- ÂúñÁâá -->
                <!-- @if(spot.spotImage){
                  <img [src]="this.imgFormat.generateImageWithPrefix(spot.spotImage)" class="pdfImg">
                } -->
              </div>

              <!-- Ë∑ØÂæë -->
              @for(route of this.dayRoute[item.day-1].routeList;track $index){
                @if(spot.placeId== route.startPlaceId){
                <div class="transportation">
                  @if(route.transportation=="DRIVING"){
                    <i class="material-icons">directions_car</i>
                  } @if(route.transportation=="WALKING"){
                    <i class="material-icons">directions_walk</i>
                  } @if(route.transportation=="TRANSIT"){
                   <i class="material-icons">directions_bus</i>
                  } @if(route.transportation=="BICYCLING"){
                   <i class="material-icons">directions_bike</i>
                  }
                  <div>{{convertTime(route.routeTime)}}ÂàÜ</div>
                </div>
                }
              }
            }
          </div>
        }
    </div>
  }
</div>



